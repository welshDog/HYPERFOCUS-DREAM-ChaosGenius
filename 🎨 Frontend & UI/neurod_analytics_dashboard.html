<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ðŸ§  NeuroD Power Analytics - PHASE II</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
  <style>
    /* PHASE II Cyberpunk Analytics Styles */
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

    body {
      font-family: 'Orbitron', monospace;
      background: linear-gradient(135deg, #0a0a0a 0%, #1a0a2e 50%, #16213e 100%);
      color: #00ff9f;
      min-height: 100vh;
      overflow-x: hidden;
    }

    .neurod-glow {
      box-shadow: 0 0 30px rgba(0, 255, 159, 0.6);
      border: 2px solid #00ff9f;
    }

    @keyframes power-pulse {

      0%,
      100% {
        box-shadow: 0 0 20px rgba(0, 255, 159, 0.4);
        border-color: #00ff9f;
      }

      50% {
        box-shadow: 0 0 40px rgba(138, 43, 226, 0.8);
        border-color: #8a2be2;
      }
    }

    @keyframes data-stream {
      0% {
        transform: translateY(100vh);
        opacity: 0;
      }

      10% {
        opacity: 1;
      }

      90% {
        opacity: 1;
      }

      100% {
        transform: translateY(-100vh);
        opacity: 0;
      }
    }

    .power-meter {
      animation: power-pulse 3s ease-in-out infinite;
    }

    .data-stream {
      animation: data-stream 8s linear infinite;
    }

    .metric-card {
      background: rgba(0, 0, 0, 0.6);
      border: 1px solid rgba(0, 255, 159, 0.3);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .metric-card:hover {
      border-color: #00ff9f;
      box-shadow: 0 0 25px rgba(0, 255, 159, 0.4);
      transform: translateY(-5px);
    }

    .hyperfocus-active {
      background: linear-gradient(45deg, #ff1493, #8a2be2, #00ff9f);
      background-size: 400% 400%;
      animation: gradient-shift 3s ease infinite;
    }

    @keyframes gradient-shift {
      0% {
        background-position: 0% 50%;
      }

      50% {
        background-position: 100% 50%;
      }

      100% {
        background-position: 0% 50%;
      }
    }

    .neural-grid {
      background-image:
        linear-gradient(rgba(0, 255, 159, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 255, 159, 0.1) 1px, transparent 1px);
      background-size: 50px 50px;
    }

    .level-badge {
      background: linear-gradient(135deg, #ff1493, #8a2be2);
      color: white;
      font-weight: bold;
      text-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
    }
  </style>
</head>

<body class="neural-grid">

  <!-- Floating Data Streams -->
  <div class="fixed inset-0 pointer-events-none z-0">
    <div class="data-stream absolute left-10 text-xs opacity-30">HYPERFOCUS_SESSION_ACTIVE</div>
    <div class="data-stream absolute left-20 text-xs opacity-30" style="animation-delay: 2s;">NEUROD_POWER_LEVEL_87
    </div>
    <div class="data-stream absolute left-32 text-xs opacity-30" style="animation-delay: 4s;">AI_SQUAD_ONLINE</div>
    <div class="data-stream absolute right-10 text-xs opacity-30" style="animation-delay: 1s;">DOPAMINE_BOOST_DETECTED
    </div>
    <div class="data-stream absolute right-20 text-xs opacity-30" style="animation-delay: 3s;">PRODUCTIVITY_SPIKE_94%
    </div>
  </div>

  <div class="relative z-10 min-h-screen p-6">
    <!-- Header -->
    <header class="text-center mb-8">
      <h1 class="text-4xl font-black mb-2 neurod-glow p-4 rounded-lg inline-block">
        ðŸ§  NEURODIVERGENT POWER ANALYTICS
      </h1>
      <p class="text-xl text-purple-300">PHASE II: HYPEREXPANSION MODE ACTIVE</p>
    </header>

    <!-- Real-time Power Level Display -->
    <div class="text-center mb-8">
      <div class="power-meter inline-block p-8 rounded-full bg-black">
        <div class="text-6xl font-black mb-2" id="powerLevel">87</div>
        <div class="text-sm text-purple-300">POWER LEVEL</div>
        <div class="level-badge px-3 py-1 rounded-full text-sm mt-2" id="powerStatus">
          HYPERFOCUS ENGAGED
        </div>
      </div>
    </div>

    <!-- Main Analytics Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">

      <!-- AI Sessions Today -->
      <div class="metric-card p-6 rounded-lg">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-bold">ðŸ¤– AI Sessions</h3>
          <span class="text-3xl font-black text-cyan-400" id="aiSessions">42</span>
        </div>
        <div class="text-sm text-gray-400">Today's interactions</div>
        <div class="mt-2 bg-gray-700 rounded-full h-2">
          <div class="bg-cyan-400 h-2 rounded-full" style="width: 84%"></div>
        </div>
      </div>

      <!-- Hyperfocus Minutes -->
      <div class="metric-card p-6 rounded-lg">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-bold">ðŸŽ¯ Hyperfocus</h3>
          <span class="text-3xl font-black text-pink-400" id="hyperfocusMinutes">127</span>
        </div>
        <div class="text-sm text-gray-400">Minutes in flow state</div>
        <div class="mt-2 bg-gray-700 rounded-full h-2">
          <div class="bg-pink-400 h-2 rounded-full" style="width: 76%"></div>
        </div>
      </div>

      <!-- Dopamine Score -->
      <div class="metric-card p-6 rounded-lg">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-bold">âš¡ Dopamine</h3>
          <span class="text-3xl font-black text-yellow-400" id="dopamineScore">94</span>
        </div>
        <div class="text-sm text-gray-400">Motivation index</div>
        <div class="mt-2 bg-gray-700 rounded-full h-2">
          <div class="bg-yellow-400 h-2 rounded-full" style="width: 94%"></div>
        </div>
      </div>

      <!-- Revenue Today -->
      <div class="metric-card p-6 rounded-lg">
        <div class="flex items-center justify-between mb-4">
          <h3 class="text-lg font-bold">ðŸ’° Revenue</h3>
          <span class="text-3xl font-black text-green-400" id="revenueToday">Â£47</span>
        </div>
        <div class="text-sm text-gray-400">Today's earnings</div>
        <div class="mt-2 bg-gray-700 rounded-full h-2">
          <div class="bg-green-400 h-2 rounded-full" style="width: 63%"></div>
        </div>
      </div>
    </div>

    <!-- Charts Row -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">

      <!-- NeuroD Power Over Time -->
      <div class="metric-card p-6 rounded-lg">
        <h3 class="text-xl font-bold mb-4">ðŸ§  Neurodivergent Power Levels</h3>
        <canvas id="powerChart" width="400" height="200"></canvas>
      </div>

      <!-- AI Squad Activity -->
      <div class="metric-card p-6 rounded-lg">
        <h3 class="text-xl font-bold mb-4">ðŸ¤– AI Squad Activity</h3>
        <canvas id="squadChart" width="400" height="200"></canvas>
      </div>
    </div>

    <!-- Live Activity Feed -->
    <div class="metric-card p-6 rounded-lg">
      <h3 class="text-xl font-bold mb-4">ðŸ“Š Live Activity Stream</h3>
      <div id="activityFeed" class="space-y-2 max-h-60 overflow-y-auto">
        <!-- Activities will be populated by JavaScript -->
      </div>
    </div>

    <!-- PHASE II Feature Teasers -->
    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="metric-card p-6 rounded-lg text-center opacity-75">
        <div class="text-4xl mb-2">ðŸŽ¨</div>
        <h4 class="font-bold">UI/UX Upgrade</h4>
        <p class="text-sm text-gray-400">Coming in PHASE II</p>
      </div>
      <div class="metric-card p-6 rounded-lg text-center opacity-75">
        <div class="text-4xl mb-2">ðŸ”§</div>
        <h4 class="font-bold">Plugin Architecture</h4>
        <p class="text-sm text-gray-400">Modular tools</p>
      </div>
      <div class="metric-card p-6 rounded-lg text-center opacity-75">
        <div class="text-4xl mb-2">ðŸ“±</div>
        <h4 class="font-bold">Mobile Companion</h4>
        <p class="text-sm text-gray-400">On-the-go tracking</p>
      </div>
    </div>
  </div>

  <script>
    // PHASE II Analytics Engine
    class NeuroAnalytics {
      constructor() {
        this.apiBase = '/api';
        this.powerLevel = 87;
        this.init();
      }

      async init() {
        await this.loadData();
        this.setupCharts();
        this.startLiveUpdates();
        this.animateEntry();
      }

      async loadData() {
        try {
          // Fetch real analytics data
          const response = await fetch(`${this.apiBase}/hyperfocus-analytics`);
          const data = await response.json();
          this.updateMetrics(data);
        } catch (error) {
          console.log('Using demo data');
          this.useDemoData();
        }
      }

      updateMetrics(data) {
        // Update power level based on real data
        if (data.neurodivergent_power_level) {
          this.powerLevel = data.neurodivergent_power_level;
          document.getElementById('powerLevel').textContent = this.powerLevel;
        }

        // Update hyperfocus sessions
        if (data.hyperfocus_metrics?.total_sessions) {
          document.getElementById('hyperfocusMinutes').textContent =
            data.hyperfocus_metrics.total_sessions * 45; // avg session length
        }
      }

      useDemoData() {
        // Demo data for PHASE II showcase
        this.updateActivityFeed([
          'ðŸŽ¯ Hyperfocus session started - Product ideation',
          'ðŸ¤– BROski AI activated - Motivation boost +15%',
          'ðŸ“Š Analytics updated - Revenue spike detected',
          'âš¡ Dopamine surge - Task completion celebration',
          'ðŸ§  Neural pattern optimized - Flow state achieved'
        ]);
      }

      setupCharts() {
        // Power Level Chart
        const powerCtx = document.getElementById('powerChart').getContext('2d');
        new Chart(powerCtx, {
          type: 'line',
          data: {
            labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
            datasets: [{
              label: 'NeuroD Power',
              data: [65, 45, 70, 87, 94, 82],
              borderColor: '#00ff9f',
              backgroundColor: 'rgba(0, 255, 159, 0.1)',
              tension: 0.4,
              fill: true
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { display: false } },
            scales: {
              y: { beginAtZero: true, max: 100 }
            }
          }
        });

        // Squad Activity Chart
        const squadCtx = document.getElementById('squadChart').getContext('2d');
        new Chart(squadCtx, {
          type: 'doughnut',
          data: {
            labels: ['BROski', 'Analytics AI', 'Content Gen', 'Discord Bot'],
            datasets: [{
              data: [42, 28, 35, 18],
              backgroundColor: ['#ff1493', '#8a2be2', '#00ff9f', '#1e90ff']
            }]
          },
          options: {
            responsive: true,
            plugins: { legend: { position: 'bottom' } }
          }
        });
      }

      updateActivityFeed(activities) {
        const feed = document.getElementById('activityFeed');
        feed.innerHTML = activities.map(activity =>
          `<div class="flex items-center space-x-2 p-2 rounded bg-gray-800 bg-opacity-50">
                        <span class="text-xs text-gray-400">${new Date().toLocaleTimeString()}</span>
                        <span class="text-sm">${activity}</span>
                    </div>`
        ).join('');
      }

      startLiveUpdates() {
        // Update power level every 30 seconds
        setInterval(() => {
          this.powerLevel += Math.floor(Math.random() * 6) - 3; // Â±3 variation
          this.powerLevel = Math.max(0, Math.min(100, this.powerLevel));
          document.getElementById('powerLevel').textContent = this.powerLevel;

          // Update status based on power level
          const status = document.getElementById('powerStatus');
          if (this.powerLevel > 85) {
            status.textContent = 'HYPERFOCUS ENGAGED';
            status.className = 'level-badge px-3 py-1 rounded-full text-sm mt-2 hyperfocus-active';
          } else if (this.powerLevel > 60) {
            status.textContent = 'OPTIMAL ZONE';
            status.className = 'level-badge px-3 py-1 rounded-full text-sm mt-2';
          } else {
            status.textContent = 'RECHARGE MODE';
            status.className = 'level-badge px-3 py-1 rounded-full text-sm mt-2 bg-yellow-600';
          }
        }, 30000);
      }

      animateEntry() {
        // GSAP animations for smooth entry
        gsap.from('.metric-card', {
          duration: 1,
          y: 50,
          opacity: 0,
          stagger: 0.1,
          ease: 'power2.out'
        });

        gsap.from('.power-meter', {
          duration: 1.5,
          scale: 0,
          opacity: 0,
          ease: 'bounce.out',
          delay: 0.5
        });
      }
    }

    // Initialize when page loads
    document.addEventListener('DOMContentLoaded', () => {
      new NeuroAnalytics();
    });
  </script>
</body>

</html>